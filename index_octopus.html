<!DOCTYPE html>
<html lang="cn">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>鼠标事件</title>


<style>

	#block_01{
			position:absolute;
			top:20px;
			left:50px;
	}
		#block_02{
			position:absolute;
			top:20px;
			left:50px;
	}
		#block_02{
			position:absolute;
			top:20px;
			left:50px;
	}
	#screen01 {
	        width: 1200px;
	        height: 600px;
	        background-color: white;
	        position: relative;
      }
	img {
        width: 100%;
        height: 100%;
    }
</style>

</head>

<body>
	<div id="screen01">
		<div id="box">
			<img src="./img/block/1.png"/>	
		</div>
	</div>
	 <script type="text/javascript">
    	// box是装图片的容器,fa是图片移动缩放的范围,scale是控制缩放的小图标
        var box = document.getElementById("box");
        var screen01 = document.getElementById("screen01");
        // 图片移动效果
        box.onmousedown=function(ev) {
            var oEvent = ev; 
            // 浏览器有一些图片的默认事件,这里要阻止
            oEvent.preventDefault();
            var disX = oEvent.clientX - box.offsetLeft;
            var disY = oEvent.clientY - box.offsetTop;
            screen01.onmousemove=function (ev) {
                oEvent = ev;
                oEvent.preventDefault();
                var x = oEvent.clientX -disX;
                var y = oEvent.clientY -disY;


                // 图形移动的边界判断
                x = x <= 0 ? 0 : x;
                x = x >= screen01.offsetWidth-box.offsetWidth ? screen01.offsetWidth-box.offsetWidth : x;
                y = y <= 0 ? 0 : y;
                y = y >= screen01.offsetHeight-box.offsetHeight ? screen01.offsetHeight-box.offsetHeight : y;
                box.style.left = x + 'px';
                box.style.top = y + 'px';
            }
            // 图形移出父盒子取消移动事件,防止移动过快触发鼠标移出事件,导致鼠标弹起事件失效
            screen01.onmouseleave = function () {
              screen01.onmousemove=null;
              screen01.onmouseup=null;
            }
            // 鼠标弹起后停止移动
            screen01.onmouseup=function() {
               screen01.onmousemove=null;
               screen01.onmouseup=null;
            } 
        }

	</script>
</body>
</html>
